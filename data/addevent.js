function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function storage(){if(window.app&&window.app.exports&&window.app.exports.storage)return window.app.exports.storage;throw"Storage module not found."}function components(){if(window.app&&window.app.exports&&window.app.exports.components)return window.app.exports.components;throw"Components module not found."}function helpers(){if(window.app&&window.app.exports&&window.app.exports.helpers)return window.app.exports.helpers;throw"Helpers module not found."}function validators(){if(window.app&&window.app.exports&&window.app.exports.validators)return window.app.exports.validators;throw"Validators module not found."}function loc(t,e){if(window.app&&window.app.exports&&window.app.exports.loc)return window.app.exports.loc(t,e);throw"Loc function not found."}function openHelp(t){return window.open(t,"help","scrollbars=yes,resizable=yes,width=450,height=400").focus(),!1}function openPreview(t){return window.open(t||(browserIsIE?"/shared/pages/blank.html":"about:blank"),"preview","menubar=yes,toolbar=yes,status=yes,scrollbars=yes,resizable=yes,width=800,height=500").focus(),!t}function openTray(){return window.open(browserIsIE?"/shared/pages/blank.html":"about:blank","tray","scrollbars=yes,resizable=yes,width=1024,height=768").focus(),!0}function gotoNoHistory(t){return location.replace?location.replace(t):location.href=t,!1}function $_(t){return document.getElementById(t)}function firstChild(t){if(t)for(t=t.firstChild;t&&!t.tagName;)t=t.nextSibling;return t}function lastChild(t){if(t)for(t=t.lastChild;t&&!t.tagName;)t=t.previousSibling;return t}function nextSibling(t){if(t)for(t=t.nextSibling;t&&!t.tagName;)t=t.nextSibling;return t}function previousSibling(t){if(t)for(t=t.previousSibling;t&&!t.tagName;)t=t.previousSibling;return t}function childAtIndex(t,e){for(t=firstChild(t);t&&0<e--;)t=nextSibling(t);return t}function hasClass(t,e){if(t&&t.className)for(var n=t.className.split(" "),o=0;o<n.length;++o)if(n[o]==e)return!0;return!1}function addClass(t,e){for(var n=t.className.split(" "),o=0;o<n.length;++o)if(n[o]==e)return;n.push(e),t.className=n.join(" ")}function removeClass(t,e){for(var n=t.className.split(" "),o=0;o<n.length;++o)if(n[o]==e)return n.splice(o,1),void(t.className=n.join(" "))}function toggleClass(t,e,n){(n?addClass:removeClass)(t,e)}function versionOfIE(){var t;return-1!==navigator.appVersion.indexOf("MSIE")?7==(t=parseFloat(navigator.appVersion.split("MSIE")[1]))&&-1<navigator.appVersion.indexOf("Trident/4.0")?8:t:-1<navigator.appVersion.indexOf("Trident")&&-1<navigator.appVersion.indexOf("rv:11")?11:0}function emToPx(t){return t*parseInt($("body").css("font-size"),10)}function prefixStaticUrl(t){var e=$("#___cachetag").val();return e?e+(t=0===(t=0===t.indexOf("/")?t.substr(1):t).indexOf("shared/")?t.substr(7):t):t}function todayDateJsonFormat(){var t=new Date,e=t.getMonth()+1,n=t.getDate();return e<10&&(e="0"+e),n<10&&(n="0"+n),t.getFullYear()+"-"+e+"-"+n}function jsDateToDelphiDateTime(t){t=t.getTime()-6e4*t.getTimezoneOffset();var e=strToDateTime("01.01.1970 00:00"),n=strToDateTime("31.12.1899 00:00");return t/864e5+Math.round(Math.abs((n.getTime()-e.getTime())/864e5))+1}function unicodeCharacterFromDecimal(t,e){void 0===e&&(e=!0);var n=versionOfIE();return e&&7<=n&&n<=9?"":$("<span />").html("&#"+t+";").text()}function isLeapYear(t){return t%4==0&&t%100!=0||t%400==0}function getMonthsDayCount(t,e){return[31,isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t-1]}function checkSocialNumber(t,e){var n,o,i,a,r,s;return 11===t.length&&(o=t.substr(0,6),r=t.substr(6,1),n=t.substr(10,1).toLocaleLowerCase(),s=(t=t.substr(7,3))+n.toLocaleUpperCase()==="XXXX",t=o+t,a=parseInt(o.substr(4,2),10),i=parseInt(o.substr(2,2),10),o=parseInt(o.substr(0,2),10),!(!s&&!/^[0-9]*$/.test(t)||"+"!==r&&"-"!==r&&"a"!==r.toLocaleLowerCase()||(a+="+"===r?1800:"-"===r?1900:2e3,i<1)||12<i||o<1||o>getMonthsDayCount(i,a)||(!e||"ä"!==n&&!s)&&(r=parseInt(t,10),n!=="0123456789ABCDEFHJKLMNPRSTUVWXYZ".charAt(r%31).toLocaleLowerCase())))}function getLokalisointiFromElement(t,e){return(e=null===(e=void 0===e?null:e)?$("#lok-"+t):e.find("#lok-"+t)).length?e.text():""}function getScrollbarWidth(){var t,e=document.createElement("div");return e.style.width=100,e.style.height=100,e.style.overflow="scroll",e.style.position="absolute",e.style.top=-9999,document.body.appendChild(e),t=e.offsetWidth-e.clientWidth,document.body.removeChild(e),t}function getWidthOfString(t,e){void 0===e&&(e=12);var n=$("<span />");return n.text(t).css({display:"inline-block",position:"absolute",left:"-9999px",fontSize:e}).appendTo("body"),t=n.width(),n.remove(),t}function apiDateToFinDate(t){return t.split("-").reverse().join(".")}function isEdge(){return-1<navigator.appVersion.indexOf("Edge")}var isTouchDevice="ontouchstart"in window,isiPad=null!==navigator.userAgent.match(/iPad/i),isiOS=isiPad||!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),isWinPhone=null!==navigator.userAgent.match(/Windows Phone|WPDesktop|ZuneWP7/i),browserIsMobile=/\bMobile\b|\bAndroid\b/.test(navigator.userAgent),browserIsIE=!!window.attachEvent&&!document.addEventListener,browserIsMozilla=/Firefox/.test(navigator.userAgent),browserIsOpera=/Opera|OPR/.test(navigator.userAgent);function preventDefault(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function getRolePrefix(){var t=document.location.href.match(/(\/![0-9]+)\/?/);return t?t[1]:""}function notifyParentWindowOfChanges(){window.parent&&"function"==typeof window.parent.enableDisableInputs&&window.parent.enableDisableInputs()}function isInt(t){return!isNaN(t)&&(0|(t=parseFloat(t)))===t}function datetimeIsInPast(t){var e=(new Date).getTime();return t.getTime()<e}function timeStringToMinutes(t){var e=[],n=0,o=0;return"string"!=typeof t?0:(0<=t.indexOf(":")?e=t.split(":"):0<=t.indexOf(".")&&(e=t.split(".")),2<=e.length?(n=anyToNumber(e[0].substr(0,2),0),o=anyToNumber(e[1].substr(0,2),0)):n=anyToNumber(t,0),60*n+o)}function convertTime(t,e){var n;return e?(e=t%60,(n=(n=Math.floor(t/60))<10?"0"+n.toString():n)+":"+(e=e<10?"0"+e.toString():e)):(n=(t=-1<t.indexOf(".")?t.split(".").join(":"):t).split(":"),(60*parseInt(n[0],10)+parseInt(n[1],10)).toString())}function clearSelection(){document.selection&&document.selection.empty?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges()}function hexToRgb(t){var e=[];if(6===(t=t.replace("#","")).length)for(var n=0;n<3;n++)e[n]=parseInt(t.substr(2*n,2),16);return e}function lightenDarkenColor(t,e){var n,o,i=!1;return"#"===t[0]&&(t=t.slice(1),i=!0),255<(n=((t=parseInt(t,16))>>16)+e)?n=255:n<0&&(n=0),255<(o=(t>>8&255)+e)?o=255:o<0&&(o=0),255<(t=(255&t)+e)?t=255:t<0&&(t=0),(i?"#":"")+(t|o<<8|n<<16).toString(16)}function escapehtml(t){return"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/`/g,"&#96;"):t}function unescapehtml(t){return"string"==typeof t?t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&#96;/g,"`"):t}function sortArray(t){return t.sort(function(t,e){t=t.toLocaleLowerCase(),e=e.toLocaleLowerCase();return t<e?-1:e<t?1:0}),t}function removeFocusIfPlaceholderIE(){var t=versionOfIE();t<=11&&-1<t&&$("input[placeholder]:focus, textarea[placeholder]:focus").blur()}function formatDate(t,e){if(e=e.replace(/yyyy/gi,"yy"),"string"!=typeof t)return $.datepicker.formatDate(e,t);var n,o,i=".",a=/[^dmnyo@!]/i.exec(e),a=(a.length&&(i=a[0]),t=t.replace(/(\d+)[^0-9]+(\d+)[^0-9]+(\d+)/,"$1"+i+"$2"+i+"$3"),/^t\s*(\+|-)?\s*(\d*)?$/i);if(a.test(t))return(i=a.exec(t))&&i.length?(a=new Date,n=1,o=0,2<=i.length&&"-"===i[1]&&(n=-1),3<=i.length&&!isNaN(parseInt(i[2],10))&&(o=parseInt(i[2],10)),a.setDate(a.getDate()+n*o),$.datepicker.formatDate(e,a)):"";i="";try{i=$.datepicker.formatDate(e,$.datepicker.parseDate(e,t))}catch(t){i=""}return i}function anyToNumber(t,e){var n;return e=e||0,void 0===t?e:"string"==typeof t?(n=parseInt(t,10),(-1<t.indexOf(".")||-1<t.indexOf(","))&&(t=t.replace(",","."),n=parseFloat(t)),isNaN(n)?e:n):"number"==typeof t?t:e}function strToDateTime(t){var e,n,t=t.split(" ");return-1<t[1].indexOf(".")&&(t[1]=t[1].replace(".",":")),t[0]=function(t){var e,n=t.split(".");n.reverse();for(var o=0;o<n.length;o++)e=parseInt(n[o],10),!isNaN(e)&&e<10&&0<e&&(n[o]="0"+n[o]);return n.join("-")}(t[0]),e=new Date(t[0]+"T"+t[1]),isNaN(e)&&(n=t[1].split(":"),t=t[0].split("-"),(e=new Date).setFullYear(t[0]),e.setMonth(t[1]-1),e.setDate(t[2]),e.setHours(n[0]),e.setMinutes(n[1]),2<n.length)&&e.setSeconds(n[2]),e}function strToDate(t){return t=t.replace(/(\d{1,2})[\.\/\-](\d{1,2})[\.\/\-](\d{4})/,"$3/$2/$1"),new Date(t)}function dateIsBetween(t,e,n){t=strToDate(t),e=strToDate(e),n=strToDate(n);return e<=t&&t<=n}function disableExcept(t,e){$("body").find("*").each(function(){this.className===e||$(this).parents("."+e).length||$(this).attr("id")===e||$(this).parents("#"+e).length||"undefined"!==this.tabIndex&&(t?(this.tabIndex=-1,$(this).attr("aria-hidden","true")):(this.removeAttribute("tabIndex"),$(this).removeAttr("aria-hidden")))})}function getUrlVars(t){for(var e,n=[],o=("string"==typeof t?t:window.location.href.slice(window.location.href.indexOf("?")+1)).split("&"),i=0;i<o.length;i++)e=o[i].split("="),n.push(e[0]),n[e[0]]=e[1];return n}"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var EventCache=function(){};function _removeEvent(t,e,n){var o;t[e+n]&&(n=t[e+(o=n)],t[e+o]=null),t.removeEventListener?t.removeEventListener(EventCache.getStandardType(e),n,EventCache.shouldCapture(e)):t.detachEvent&&t.detachEvent("on"+e,n)}function addCkeditor(t){t.ckeditor()}function addCkeditorCSS(t,e){var n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",e),t.contents().find("head:eq(0)").get(0).appendChild(n)}function setLinksToOpenInParentWindow(t){t.find("a").click(function(t){t.preventDefault(),window.parent.location=$(this).attr("href")})}function trimRight(t){return t.replace(/\s+$/g,"")}function caretPosition(t){var e=0,n=null;return document.selection?(t.focus(),(n=document.selection.createRange()).moveStart("character",-t.value.length),e=n.text.length):"number"==typeof t.selectionStart&&(e=t.selectionStart),e}function allowTimeInput(t,e){var n=-1<$.inArray(e,[46,48,49,50,51,52,53,54,55,56,57,58]),o=n?String.fromCharCode(e):"",o=t.val().insert(caretPosition(t.get(0)),o),i=o.length,a={},r=[":","."],s="",l=-1;return-1<$.inArray(e,[8,9,37,39])||!!n&&(1===(i=0<t.get(0).selectionEnd-t.get(0).selectionStart?(o=o.slice(0,t.get(0).selectionStart)+o.slice(t.get(0).selectionEnd)).length:i)?n=/[0-9]/.test(o):2===i?n=o.contains(r,a)?/[0-9](:|\.)/.test(o):parseInt(o,10)<=24:3<=i&&(n=o.contains(r,a)?(e=parseInt(o.until(r[a.index]),10),s=o.after(r[a.index]),l=parseInt(s,10),o.length<=5&&0<=e&&e<=24&&(0===s.length||0<=l&&l<60&&/^[012345]/.test(s))&&s.length<=2):(s=o.substr(2,o.length),l=parseInt(s,10),o.length<=4&&/[0-5]?[0-9]/.test(s)&&0<=l&&l<60)),n)}function timeOK(t,e){var n={index:-1};return t.contains(e,n)?2!==(e=t.split(e[n.index])).length||(n=parseInt(e[0],10),e=parseInt(e[1],10),0<=n&&n<=23&&0<=e&&e<60)||24===n&&0===e:!!/^\d{4}$/.test(t)||0<=parseInt(t,10)&&parseInt(t)<=24}function fixCkeditorEmoticons(){$("textarea.Ckeditor,textarea.ckeditor").each(function(){var t=$(this),e=(e=t.val()).replace(/<span class="emoticon" data-file="([^"]+)"><\/span>/gi,'<img height="23" src="/shared/scripts/ckeditor/plugins/smiley/images/$1.png" width="23"></img>');t.val(e)}),$("SPAN.emoticon").each(function(){var t="/shared/scripts/ckeditor/plugins/smiley/images/"+$(this).data("file")+".png";$(this).css({"background-image":'url("'+t+'")'})})}function updateNavCartAriaLabel(){var t,e,n=$("#nav-cart");n.length&&"string"==typeof(t=n.data("aria-label-copy"))&&(t=t.replace("{{count}}",$("#nav-cart-count").text()),0===(e=$("#nav-cart-price").text()).length&&(e="0 €"),t=t.replace("{{price}}",e),n.attr("aria-label",t))}function trimWhiteSpace(t){return t.replace(/(^\s*)|(\s*$)/gi,"")}function openEmptyPrintout(t,e,n,o){var i,a,r,s=window.open(getRolePrefix()+"/misc/emptyprintout","preview","menubar=yes,toolbar=yes,status=yes,scrollbars=yes,resizable=yes,width=800,height=500"),l=[],d=0;if(t){if(i=t.clone()[0],$("td.tablecol-filter-cell, th.tablecol-filter-cell",i).remove(),a=$(i).css({"border-collapse":"collapse","cell-spacing":"0px"}),o)for(r=0;r<o.length;r++)$(o[r].selector,i).css(o[r].css);if(void 0!==n&&n.length)for(r=0;r<n.length;r++)("."!==n[r].charAt(0)?a.find("."+n[r]):a.find(n[r])).remove();e&&(t=(e=$("td:not(:empty):eq(0)",t)).width(),e=e.height(),$("td:empty",i).width(t).height(e).html("&nbsp;")),a.find("select").each(function(){var t=$(this),e=t.find("option:selected").text();t.replaceWith($("<label>").text(e))})}else t=$(this).parent().prev("table"),i=(t.is("table")?t:t.find("table")).clone()[0],$("td.tablecol-filter-cell, th.tablecol-filter-cell",i).remove();function c(){var t=i.cloneNode(!0),e=s.document.getElementById("content");$("a",t).each(function(t,e){e=$(e);e.after(e.contents()),e.remove()}),s.document.getElementsByTagName("h1")[0].appendChild(s.document.createTextNode($("h1:eq(0)").text())),$("#ui-dialog-title-popup-container:visible").length&&s.document.getElementsByTagName("h1")[0].appendChild(s.document.createTextNode(" - "+$("#ui-dialog-title-popup-container:visible").text())),s.document.title=$("h1:eq(0)").text()+" - Wilma",!document.importNode||versionOfIE()||isEdge()?e.innerHTML=t.outerHTML:e.appendChild(s.document.importNode(t,!0))}$(".no-print",i).each(function(){var t=$(this).index();l.push("td:nth-child("+(t+1)+")"),l.push("th:nth-child("+(t+1)+")"),l.push("col:nth-child("+(t+1)+")")}),$(l.join(","),i).remove(),function t(){var e=s.document&&s.document.getElementById("content");if(300<d)return!1;e?c():(d++,setTimeout(t,100))}()}function displayPersistantSave(){var t=$("#l-persistant-save");t.length&&t.modal("show")}function displayModalNotification(){var t=$("#modal-notification-root");t.length&&t.modal("show")}function getPrintLinkText(){switch(document.documentElement?document.documentElement.lang:""){case"sv":return"Skriv ut";case"en":return"Print";default:return"Tulosta"}}function loadJSDynamically(t){var e=document.createElement("script");e.src=t,e.async="async",(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}function addFilterBoxes(t,e,n){var o=t.hasClass("index-table"),i=!0,a=$("<tr>").addClass("filter-row tablesorter-ignoreRow").append($("tr:first th",t).map(function(){var t=$("<td />");return i&&""!==$.trim($(this).text())&&(i=!1),o&&t.addClass("no-top-padding"),($(this).hasClass("no-sort")||$(this).hasClass("no-filter")?t:t.addClass(e).append(n)).get(0)}));$("thead > tr",t).after(a),i&&t.find("thead > tr").eq(0).remove()}function addFilterContainer(t,e,n){$(t).before($("<div>").attr("class",e).append(n))}function addPrintLink(t){var e,n=t.parent(".table-responsive");0<n.length&&(e=$("<div />").addClass("margin-top-bottom"),$("<a />").addClass("icon-link show-text").attr("href","#").attr("title",getPrintLinkText()).on("click",function(){return openEmptyPrintout($(this).parent().prev().find("table:eq(0)")),!1}).append($("<span />").addClass("vismaicon vismaicon-sm vismaicon-print")).append($("<span />").text(getPrintLinkText())).appendTo(e),t.hasClass("index-table")&&t.parents(".panel-body-padding-remover")&&e.addClass("side-padding"),n.after(e)),$('button[data-friend],input[type="submit"][data-friend],input[type="button"][data-friend]').each(function(){var t=$("#"+$(this).data("friend"));t.length&&t.hasClass("allow-printlink")&&t.next().find("a.table-printlink").addClass("pad20left").before($(this))})}function initTableSorter(o,i){void 0===o&&(o=!o);var t=function(){var t;switch(document.documentElement?document.documentElement.lang:""){case"sv":t={filter:"Alla",empty:"Tom","search-help":"Skriv in ditt sökord. Om sökorden är flera ska du skilja dem åt med kommatecken. Klicka därefter på Enter."};break;case"en":t={filter:"All",empty:"Empty","search-help":"Type in a search and press Enter."};break;default:t={filter:"Kaikki",empty:"Tyhjää","search-help":"Kirjoita hakusana tai sanoja pilkulla erotettuna ja paina enter suodattaaksesi sisältöä."}}return t}(),e=$('table.table[data-sortable="true"]:not(.repeater) > thead > tr').children("th:not(.no-sort, .headerUnsorted)");0<e.length&&0===e.find("span.sortState").length&&(loadJSDynamically(prefixStaticUrl("/scripts/jquery/jquery.tablesorter.min.js")),e.append('<span class="sortState">&nbsp;</span>')),addPrintLink($("table.allow-printlink:not(.repeater), table.table[data-printlink]")),$("table.allow-multifilter:not(.repeater), table.table[data-multifilter]").each(function(){addFilterBoxes($(this),"tablecol-filter-cell",'<input type="text" placeholder="'+t.filter+'" class="tablecol-filter form-control" title="'+t["search-help"]+'"/>')}),$("table.allow-filter:not(.repeater), table.table[data-filter]").each(function(){addFilterContainer($(this),"tablefilter-container",'<input type="text" placeholder="'+t.filter+'" class="tablefilter" size="42"/><input type="button" class="btn-clear-filter" value="'+t.empty+'"/>')}),$("input.btn-clear-filter").click(function(){var t=$.Event("keyup");t.which=13,t.keyCode=13,$(this).prev("input").val("").trigger(t)}),$("input.tablecol-filter").keypress(function(t){13===t.keyCode&&t.preventDefault()}).keyup(function(t){var e;13===t.keyCode&&(e=$(this).closest("table"),$("tbody > tr",e).show().removeClass("flagged-hide"),$("input.tablecol-filter",e).each(function(){var i=$(this).closest("tr").children().index($(this).parent()),a=$(this).closest("tr").children("th:hidden"),t=$(this).closest("tr").prev("tr").children("th:hidden"),t=a.length-t.length;if(e.hasClass("customfilter")){t=$(this).closest("tr").prev("tr").find("th:eq("+(i-t)+")");if(void 0!==t.data("customfilter")&&"undefined"!=typeof CustomFilter)return CustomFilter($(this)),!0}var r,s,t=$(this);if(0<t.val().length){for(s=t.val().split(","),r=0;r<s.length;r++)s[r]=trimWhiteSpace(s[r].toLowerCase());$("tbody > tr",e).each(function(){var t,e=$(this).children("td:hidden"),n=a.length-e.length,o=!1;for(r=0;r<s.length;r++)if(t=s[r],!o&&t.length&&-1!==$("td:eq("+(i-n)+")",$(this)).text().replace(/\xA0/gi," ").toLowerCase().indexOf(t)){o=!0;break}o||$(this).addClass("flagged-hide")})}}),$("tbody > tr.flagged-hide",e).hide(),$("tbody > tr:visible",e).removeClass("odd"),$("tbody > tr:visible:even",e).addClass("odd"))}),$("input.tablefilter").keypress(function(t){13===t.keyCode&&t.preventDefault()}).keyup(function(t){if(13===t.keyCode){for(var i=$(this).val().split(","),a=[],e=0;e<i.length;++e)i[e]=trimWhiteSpace(i[e].toLowerCase());t=$(this).parent().next("table"),a=[],$("thead > tr > th.no-sort",t).each(function(){var t=Number($(this).parent().children().index($(this)));a[t]={sorter:!1}}),0===$(this).val().length?$("tbody > tr",t).show():$("tbody > tr",t).each(function(){var o=!1;$("td",$(this)).each(function(){for(var t,e=$(this),n=0;n<i.length;++n)if(t=i[n],!a[Number(e.parent().children().index(e))]&&!o&&t.length&&-1!==e.text().toLowerCase().replace(/\xA0/gi," ").indexOf(t)){o=!0;break}if(o)return!1}),o?$(this).show():$(this).hide()}),$("tbody > tr:visible",t).removeClass("odd"),$("tbody > tr:visible:even",t).addClass("odd")}}),e.addClass("headerUnsorted").on("click.tablesorter",function(){var t=$(this),e=t.parents("table"),n=[],t=(e.find("thead > tr > th.no-sort").each(function(){var t=Number($(this).parent().children().index($(this)));n[t]={sorter:!1}}),e.find(".headerUnsorted").off("click.tablesorter"),t.parent().children().index(t));e.hasClass("tablesorter")||(e.tablesorter({cssAsc:"headerSortAscending",cssDesc:"headerSortDescending",cssHeader:"headerUnsorted",sortList:[[t,0]],headers:n,textExtraction:function(t){var e=t.getAttribute("data-sortvalue");return e||$(t).text()}}),e.addClass("tablesorter"),e.on("sortEnd",function(){i&&i(),o&&($("tbody > tr:visible",e).removeClass("odd"),$("tbody > tr:visible:even",e).addClass("odd"))}))})}function _constrainValue(t,e,n,o,i){function a(t,e){if(isNaN(t))throw"_constrainValue Expected "+e+" to be a number."}a(t,"value"),a(e,"min"),a(n,"max"),a(o,"defaultRatio");var r=t,s=o;return n<=t&&(void 0===i||$.isEmptyObject(i)||i.alternativeRatio&&(a(i.alternativeRatio,"options.alternativeRatio"),s=i.alternativeRatio),r=Math.floor(n*s)),r<e?r=e:n<r&&(r=n*o),r}function createCopybuttonOfInput(t,e,n){var o=null;return(t=t instanceof jQuery?t:$(t)).is("input")?(o=$("<button />").addClass("wbtn btn-default"),void 0!==e&&o.attr("id",e),void 0===n&&(n=!0),o.text(t.val()),o.on("click",function(){t.trigger("click")}),n&&t.hide(),o):null}function saveVariablesInSession(t){var e=getRolePrefix()+"/savevariablesinsession",n={};n.formkey=$("input[name=formkey]").val(),"placeable-blocks"===t.id?n.newheight=$("DIV#placeable-blocks").height().toString():"addselftonewres"===t.id?n.addself=t.checked?1:0:"no-confirm-reservation"===t.id?n.resDialogNoConfirm=t.checked?1:0:"no-notify-choice"===t.id?n.noNotifyChoice=t.checked?1:0:"choice-on-first-click"===t.id?n.oneClickChoice=t.checked?1:0:"cb-show-graded"===t.id?n.showGradedChoice=t.checked?1:0:"cb-show-selected"===t.id?n.showSelectedChoice=t.checked?1:0:"cb-show-failed"===t.id?n.showFailedChoice=t.checked?1:0:"cb-show-workexp"===t.id?n.showWorkexpChoice=t.checked?1:0:"cb-show-skilldemo"===t.id?n.showSkilldemoChoice=t.checked?1:0:"cb-show-crediting"===t.id?n.showCreditingChoice=t.checked?1:0:"history-toggle"===t.id?n.showGradebookHistory=t.checked?1:0:"no-confirm-tray-unpick"===t.id?n.noConfirmTrayUnpick=t.checked?1:0:"no-confirm-enrollmentremoval"===t.id?n.noConfirmEnrollmentRemoval=t.checked?1:0:"no-confirm-appt-send"===t.id?n.noConfirmApptSend=t.checked?1:0:"no-confirm-attachment-removal"===t.id?n.noConfirmAttachmentRemoval=t.checked?1:0:"ResSelectedSijId"===t.id?n.ResSelectedSijId=t.sijid:"tray-selection-on-first-click"===t.id&&(n.OneClickTraySelection=t.checked?1:2),$.ajax({type:"POST",url:e,data:n})}EventCache.listEvents=[],EventCache.shouldCapture=function(t){return"focusin"===t},EventCache.getStandardType=function(t){return"focusin"===t?"focus":t},EventCache.flush=function(){for(var t;t=EventCache.listEvents.pop();)_removeEvent(t[0],t[1],t[2])},String.prototype.contains=function(t,e){for(var n=0;n<t.length;n++)if(-1<this.indexOf(t[n]))return e&&(e.index=n),!0;return!1},String.prototype.until=function(t){t=this.indexOf(t);return-1<t?this.substr(0,t):""},String.prototype.after=function(t){var e=this.indexOf(t);return-1<e?this.substr(e+t.length,this.length):""},String.prototype.insert=function(t,e){return 0<t?this.substr(0,t)+e+this.substr(t,this.length):e+this},$(window).on("unload",EventCache.flush),$(function(){var n,o;function i(t){var t=t.srcElement||t.target,i=$(t),a=i.prevAll("TEXTAREA");$(document).mousemove(function(t){clearSelection();var e=t.pageX,t=t.pageY,n=a.offset().left,o=a.offset().top,e=Math.min(e-n,a.parents(".form-group").width()),n=t-o;30<e&&(a.css("width",e+"px"),i.css({left:a.outerWidth()-7})),30<n&&a.css("height",n+"px")}),$(document).mouseup(function(){$(document).off("mousemove mouseup")})}$('a[href="#"]').on("click",function(t){t.preventDefault()}),$('input[name="logoutbtn"]:visible').get(0)&&$("body.nobody").get(0)&&$("#l-logout,#l-logo,#l-logout > .outer,#l-logout > .outer > .inner").addClass("connect"),$("body.nobody").get(0)&&0<location.href.indexOf("forgotpasswd")&&$("DIV#l-breadcrumb > DIV.outer").remove(),$("#login-frontdoor").get(0)&&($('#login-frontdoor[name!="Yubikeylogin"]').keydown(function(t){var e=t.srcElement||t.target;return 13!==t.keyCode?(""===e.value?n=(new Date).getTime():o=(new Date).getTime(),!0):!(44===e.value.length&&-1===e.value.search(/[^a-z]/gi)&&100<o-n&&o-n<1500&&(e.value="",1))}),$('#login-frontdoor[name!="Yubikeylogin"]').keypress(function(t){if(13===t.keyCode){var e=t.srcElement||t.target;if("login-frontdoor"===e.id){var n=$("#password");if(""===n.val())return 0<e.value.length&&(n.focus(),t.preventDefault()),!1}}return!0})),$("#wff-yubikeycode").get(0)&&$("#wff-yubikeycode").keydown(function(t){13===t.which&&$("#wff-unregisteryubikey").off("click")}),$("#wff-unregisteryubikey").get(0)&&$("#wff-unregisteryubikey").click(function(){var t={fi:"Poista YubiKey käytöstä?",sv:"Avregistrera YubiKey?",en:"Unregister YubiKey?"}[document.documentElement.lang];return confirm(t)?($("input[name=removeyubikey]").val("true"),!0):($("input[name=removeyubikey]").val("false"),!1)}),$("#wff-renew-salt").length&&$("#wff-renew-salt").click(function(){var t={fi:"Haluatko varmasti poistaa aiemmin muodostamasi iCalendar-linkin käytöstä?",sv:"Vill du bryta iCalendar-länken som du har gjort?",en:"Disable the existing iCalendar link?"}[document.documentElement.lang];return confirm(t)}),$("div.sidebar-grouped.popup").get(0)&&$("a.popup").click(function(t){var e=versionOfIE(),n=t.srcElement||t.target,o=!!$(n).hasClass("in-table");n=n||t;var i,a=$(n),r=$(n).offset(),s=$("#l-content").offset(),l=$();for(i in r)r.hasOwnProperty(i)&&(r[i]-=s[i]);for(;n;){if($(n).siblings("div.sidebar-grouped.popup").get(0)){(l=$($(n).nextAll("div.sidebar-grouped.popup:first"))).get(0)||(l=$($(n).prevAll("div.sidebar-grouped.popup:first")));break}n=n.parentNode}{var d;o?(o=$(a.closest("TD")),d=o.width(),o.prevAll("TD").each(function(){d+=$(this).width()+parseInt($(this).css("paddingRight"),10)+parseInt($(this).css("paddingLeft"),10)}),l.css({left:0+d-l.width(),top:0+a.height()})):l.offset({left:$(n).offset().left-l.width()+$(n).width()-35,top:$(n).offset().top+$(n).height()})}"click"===t.type&&(o=l.is(":visible"),$("div.sidebar-grouped.popup:visible").toggle(),o||l.toggle(),l.offset({left:$(n).offset().left-l.width()+$(n).width()-35,top:$(n).offset().top+$(n).height()}));(0===e||9<=e)&&$(window).on("resize.popupcloseresize",function(){$(document).off("click.popupcloseclick"),$(window).off("resize.popupcloseresize"),$("div.sidebar-grouped.popup").hide()});return $(document).on("click.popupcloseclick",function(t){t=$(t.target);t.parents("div.sidebar-grouped.popup").length||t.is("div.sidebar-grouped.popup")||($(window).off("resize.popupcloseresize"),$(document).off("click.popupcloseclick"),$("div.sidebar-grouped.popup").hide())}),!1}),"undefined"!=typeof autoLogoutDelay&&AutoLogoutWarning.init(),"undefined"!=typeof Reservation?initTableSorter(!1):(initTableSorter(),displayPersistantSave()),displayModalNotification(),$(".need-confirm").length&&$(".need-confirm").each(function(){$(this).click(function(t){var e=t.srcElement||t.target;confirm($(e).data("confirm"))||t.preventDefault()})}),void 0===$("<textarea></textarea>").css("resize")&&$("TEXTAREA.ie-resize").each(function(){var t=$(this),e=t.nextAll("SPAN.memocharcount");e.length||(e=t),t.siblings("label").addClass("display-block"),e.after($("<div></div>").addClass("ie-stretch").css({left:t.outerWidth()-7}).mousedown($.proxy(i,this)))}),fixCkeditorEmoticons(),$("#wff-SendTime,#appt-time,#appt-endtime,#recp-time,#recp-endtime,#recp-canceltime").on("keypress",function(t){return allowTimeInput($(this),t.charCode||t.which||t.keyCode)}),$("#wff-SendTime,#appt-time,#appt-endtime,#recp-time,#recp-endtime,#recp-canceltime").blur(function(){var t=$(this).val(),e=[":","."];if(""!==t)return t.contains(e,-1)||(t=t.insert(2,":"),$(this).val(t)),timeOK(t,e)?(t=t.replace(".",":"),/^[0-9][0-9]?:$/.test(t)&&(t+="00"),/^[0-9][0-9]?$/.test(t)&&(t+=":00"),/^(24:00|24:0|24:|24)$/.test(t)&&(t="00:00"),$(this).val(t),!0):(alert(function(){switch(document.documentElement?document.documentElement.lang:""){case"sv":return"Ogiltig sändningstid.";case"en":return"Invalid sending time.";default:return"Viallinen lähetysaika."}}()),!1)}),window.self===window.top?$(document).ajaxComplete(function(){"undefined"!=typeof autoLogoutDelay&&"object"===_typeof(AutoLogoutWarning)&&(AutoLogoutWarning.tMinusLogout=parseInt(autoLogoutDelay,10))}):window.parent&&("function"==typeof window.parent.childPageLoaded&&window.parent.childPageLoaded(),$(document).ajaxComplete(function(){void 0!==window.parent.autoLogoutDelay&&"object"===_typeof(window.parent.AutoLogoutWarning)&&(window.parent.AutoLogoutWarning.tMinusLogout=parseInt(window.parent.autoLogoutDelay,10))})),$(window).on("pageshow",function(t){t.originalEvent.persisted&&window.location.reload()}),updateNavCartAriaLabel(),isiOS&&(document.ontouchmove=function(t){for(var e=!0,n=t.target;null!==n;){if($(n).hasClass("disable-scrolling")){e=!1;break}n=n.parentNode}e||t.preventDefault()},$(".no-ios-scroll-effect").each(function(){var o;(o=this).addEventListener("touchstart",function(){var t=o.scrollTop,e=o.scrollHeight,n=t+o.offsetHeight;0===t?o.scrollTop=1:n===e&&(o.scrollTop=t-1)})}))});var AutoLogoutWarning={translations:[{fi:["Olet ollut tällä sivulla yli "," minuuttia.",'Klikkaa "OK" ennen klo '," välttääksesi automaattisen uloskirjautumisen."],sv:["Du har varit på den här sidan i över "," minuter.",'Klicka på "OK" före kl '," för att undvika automatisk utloggning."],en:["You have spent over "," minutes on this page.",'Click "OK" before '," to avoid automatical logout."]},{fi:"Yhteyttä Wilman palvelimelle ei voitu muodostaa.\nJos yrität siirtyä toiselle sivulle tai tallentaa tämän sivun tiedot, tulevat sivulla näkyvät tiedot katoamaan. \nKirjaa muistiin sivulle kirjoittamasi tärkeät tiedot jotta et menettäisi niitä.",sv:"Det gick inte att få kontakt med Wilmas server.\nOm du försöker gå till en annan sida eller spara uppgifterna så kommer uppgifterna på den här sidan att försvinna.\nSkriv därför ner de uppgifter som är viktiga så att de inte går förlorade.",en:"Unable to connect to the Wilma server.\nIf you try to navigate to another page or save the data on this page all data on this page will be lost.\nWrite down the important data to avoid losing it."}],tMinusLogout:0,timestamp1:null,timestamp2:null,timer:null,other_translations:{fi:"Automaattinen uloskirjaus",sv:"Automatisk utloggning",en:"Automatic logout"},init:function(){window.top===window.self&&(autoLogoutDelay=parseInt(autoLogoutDelay,10),this.tMinusLogout=autoLogoutDelay,this.timer=setInterval(function(){AutoLogoutWarning.logoutWatch()},1e4))},logoutWatch:function(){this.tMinusLogout-=10,(this.tMinusLogout<=600&&1200<=autoLogoutDelay||this.tMinusLogout<=300&&autoLogoutDelay<1200&&600<=autoLogoutDelay||this.tMinusLogout<=.5*autoLogoutDelay&&autoLogoutDelay<600)&&this.promptWithTimeStamp()},promptWithTimeStamp:function(){storage().setItem("lastLoginDisplayed",""),clearInterval(this.timer),n=5<this.tMinusLogout/60?5*Math.floor((autoLogoutDelay/60-this.tMinusLogout/60)/5):Math.floor(autoLogoutDelay/60-this.tMinusLogout/60),this.timestamp1=(new Date).getTime();var t=new Date(this.timestamp1+1e3*this.tMinusLogout),e=this,n=e.translations[0][document.documentElement.lang][0]+n+e.translations[0][document.documentElement.lang][1],t=e.translations[0][document.documentElement.lang][2]+((1===(t=t).getHours().toString().length?"0"+t.getHours():t.getHours())+":"+(1===t.getMinutes().toString().length?"0"+t.getMinutes():t.getMinutes())+":"+(1===t.getSeconds().toString().length?"0"+t.getSeconds():t.getSeconds()))+e.translations[0][document.documentElement.lang][3];showModalDialog({title:e.other_translations[document.documentElement.lang],content:n+" "+t,buttonContinueText:"OK",addCancelButton:!1,onOk:function(){e.resetSessionLength()},onCancel:function(){e.resetSessionLength()}})},resetSessionLength:function(){this.timestamp2=(new Date).getTime(),(this.timestamp2-this.timestamp1)/1e3<this.tMinusLogout?(storage().setItem("lastLoginDisplayed","yes"),$.get(absoluteURL+"/status/").fail(function(){alert(this.translations[1][document.documentElement.lang])})):("object"===("undefined"==typeof leaveConfirm?"undefined":_typeof(leaveConfirm))&&(leaveConfirm.enabled=!1),window.location=absoluteURL),this.tMinusLogout=autoLogoutDelay,this.timer=setInterval(function(){AutoLogoutWarning.logoutWatch()},1e4)}};function formToParams(t,o){var i={};return!!(t=t instanceof jQuery?t:$(t)).is("form")&&(t.find("input,textarea,select").each(function(){var t=$(this),e=t.attr("name"),n=t.val();if(o&&t.is("textarea")&&(n=n.replace(/\n/g,"\r\n"),n=encodeURI(n)),t.is(":checkbox")){if(!t.is(":checked"))return!0;n=!0}if(void 0===e||void 0===n)return!0;i[e]=n}),i)}function showModalDialog(t){var e=function(){var t={};switch(document.documentElement?document.documentElement.lang:""){case"en":t={continue:"Continue",cancel:"Cancel",unsaved:"All changes have not been saved",wannacontinue:"You still have unsaved changes. Do you want to continue?"};break;case"sv":t={continue:"Fortsätt",cancel:"Ångra",unsaved:"Alla ändringar är inte sparade",wannacontinue:"Det finns ändringar som inte är sparade. Vill du fortsätta?"};break;default:t={continue:"Jatka",cancel:"Peruuta",unsaved:"Tallentamattomia muutoksia",wannacontinue:"Sinulla on tallentamattomia muutoksia. Haluatko jatkaa?"}}return t}(),n=[],e={title:e.unsaved,content:e.wannacontinue,onOk:null,onCancel:null,buttonContinueText:e.continue,buttonCancelText:e.cancel,type:"warning",addCancelButton:!0,okButtonIsPrimary:!0},o=$.extend(!0,{},e,t),n=[{primary:o.okButtonIsPrimary,text:o.buttonContinueText,click:function(t){"function"==typeof o.onOk&&o.onOk(),$(t.target).parents(".modal").modal("hide")}}],i=(o.addCancelButton&&n.push({text:o.buttonCancelText,click:function(){"function"==typeof o.onCancel&&o.onCancel()},dismiss:!0}),createModalBase({buttons:n,title:o.title,size:"small",type:o.type,contentText:o.content,close:function(){i.remove()}}));i.find("button.close").on("click",function(){"function"==typeof o.onCancel&&o.onCancel()}),i.appendTo("body").modal({show:!0,backdrop:o.modal}),adjustModalBackdrop(i)}function moveTo(t,e){var n=1e3,o=n;function i(){void 0!==e&&(e.doClick&&t.click(),e.flash&&t.flash(),e.flashOther&&e.flashOther.flash(),e.focusAfter)&&e.focusAfter.focus()}1===t.length&&(void 0!==e&&("number"==typeof e.duration&&e.duration>n&&(n=e.duration),void 0!==e.frameTo)&&void 0!==e.frameFrom&&e.frameTo.length&&e.frameFrom.length&&(o=anyToNumber(e.frameduration,o),e.frameFrom.effect("transfer",{to:e.frameTo},o,function(){void 0!==e.frameFocusElement&&e.frameFocusElement.focus()})),t.offset().top<$(window).innerHeight()?(e&&e.focusAfter&&e.focusAfter.focus(),i()):$("html, body").animate({scrollTop:t.offset().top-$(window).height()/2},n,function(){i()}))}function sectionDisable(t,e){e=e||"",t.hasClass("disabled")||(t.addClass("disabled"),t.append($("<div />").addClass("section-shroud").text(e)))}function sectionEnable(t){t.find("div.section-shroud").remove(),t.removeClass("disabled")}function popoverTooltip(t,e){var o="",i=$.extend({},{closeOnScrollOf:null,closeOnScrollOfDocument:!0,content:null,dataAttr:"data-tooltip",headlineKey:"",type:"table",show:"hover"},e);i.closeOnScrollOfDocument&&(o="scroll.popoverclose"),t.each(function(){var t,e,n=$(this);if(null===i.content)try{e=JSON.parse(n.attr(i.dataAttr)),t="list"===i.type?getPopoverListTable(e.names):getPopoverContentTable(e,i.headlineKey)}catch(t){throw new Error("Invalid JSON data")}else t="function"==typeof i.content?i.content():i.content;n.popover({trigger:i.show,content:t,container:"body",html:null===i.content,placement:"auto"})}),t.on("show.bs.popover",function(){var t,e=$(this);if(null!==i.content){if(""===(t="function"==typeof i.content?i.content():i.content))return!1;void 0!==e.data("bs.popover")&&e.data("bs.popover").$tip.find(".popover-content").text(t)}}),t.on("shown.bs.popover",function(){var t,e,n=$(this);if(null===i.content){try{t=JSON.parse(n.attr(i.dataAttr)),e="list"===i.type?getPopoverListTable(t.names):getPopoverContentTable(t,i.headlineKey),n.data("bs.popover").$tip.find(".popover-content").html(e)}catch(t){throw new Error("Invalid JSON data")}0<(t=n.closest(".sidepanel")).length&&n.data("bs.popover").$tip.css("z-index",t.css("z-index")+10)}""!==o&&((e=$(document)).off(o),e.on(o,function(){n.popover("hide")})),null!==i.closeOnScrollOf&&"object"===_typeof(i.closeOnScrollOf)&&(i.closeOnScrollOf.off("scroll.popoverclose"),i.closeOnScrollOf.on("scroll.popoverclose",function(){n.popover("hide")})),"function"==typeof i.onShow&&i.onShow()}),t.on("hidden.bs.popover",function(){var t=$(document);""!==o&&t.off(o),null!==i.closeOnScrollOf&&"object"===_typeof(i.closeOnScrollOf)&&i.closeOnScrollOf.off("scroll.popoverclose"),"function"==typeof i.onHide&&i.onHide()})}function getPopoverContentTable(t,e){var n,o,i='<table class="tooltip-table"><tbody>';for(n in""!==(e=void 0===e?"":e)&&(i+="<tr><th>"+t[e]+"</th><td></td></tr>"),t)t.hasOwnProperty(n)&&e!==n&&(o="string"==typeof t[n]?escapehtml(t[n]):t[n],i+="<tr><th>"+escapehtml(n)+"</th><td>"+o+"</td></tr>");return i+="</tbody></table>"}function aSyncCall(e,n){setTimeout(function(){var t=e();"function"==typeof n&&n(t)},1)}function getPopoverListTable(t,e){for(var n,o,i,a=(n=t.length>(e=void 0===e?30:e))?e:t.length,r='<table style="width:100%;"><colgroup><col style="width:50%;"><col style="width:50%;"></colgroup><tbody>',s=0;s<a;s++)i=s+1===a,(o=s%2==0)&&(r+="<tr>"),r+="<td>"+t[s]+"</td>",o&&!i||(i&&o&&(r+="<td></td>"),r+="</tr>");return n&&(r+='<tr><td colspan="2">('+e+"/"+t.length+")</td></tr>"),r+="</tbody></table>"}function collapsedTableSelectedPainterHelper(t,e,n){function o(t){t.css({borderLeft:"",borderTop:"",borderRight:"",borderBottom:"",border:""})}if(void 0===e&&(e={}),!(n=void 0===n?!1:n)&&(0===t.length||void 0===t))return!1;e=$.extend({},{leftClass:"selected-helper left",topClass:"selected-helper top",selectedClass:"selected",skipSelected:!0},e);if(e.skipSelected&&t.hasClass(e.selectedClass)&&!n)return!1;var i=$("."+e.selectedClass.split(" ").join("."));if(i.removeClass(e.selectedClass),o(i),$("."+e.topClass.split(" ").join(".")).removeClass(e.topClass),$("."+e.leftClass.split(" ").join(".")).removeClass(e.leftClass),n)return!0;o(t);var a,r,i=t.parents("table").find("tr").index(t.parent()),n=t.parent().children().index(t),s=!1,l=!1;0<i||0<n?(0<i?a=t.parents("table").find("tr:eq("+(i-1)+")").children(":eq("+n+")"):(a=t,s=!0),0<n?r=t.parent().children(":eq("+(n-1)+")"):(r=t,l=!0)):(r=a=t,l=s=!0),t.addClass(e.selectedClass),l?t.css({borderLeft:t.css("border-right")}):r.addClass(e.leftClass),s?t.css({borderTop:t.css("border-bottom")}):a.addClass(e.topClass)}function createModalBase(t){function e(){var t={};switch(document.documentElement?document.documentElement.lang:""){case"en":t={close:"Close"};break;case"sv":t={close:"Stäng"};break;default:t={close:"Sulje"}}return t}var n,o,i,a,r,s=$("<div />").addClass("modal fade").attr({tabindex:"-1",role:"dialog"}),l=$("<div />").addClass("modal-dialog"),d=$("<div />").addClass("modal-content"),c=$("<div />").addClass("modal-header"),u=$("<div />").addClass("modal-body"),p=$("<div />").addClass("modal-footer horizontal-link-container"),f=$("<button />").addClass("close").attr({"data-dismiss":"modal","aria-label":e().close,type:"button"}),h=$("<span />").attr("aria-hidden","true").text("&times;"),m=$("<h4 />").addClass("modal-title");if("object"!==_typeof(t)&&(t={}),n=$.extend(!0,{},{buttons:[],contentText:"",close:null,open:null,size:"",title:"",type:""},t),f.append(h),""!==n.title&&m.text(t.title),""!==n.size&&("sm"===(h=n.size.toLowerCase())||"small"===h?l.addClass("modal-sm"):"lg"!==h&&"large"!==h||l.addClass("modal-lg")),""!==n.type&&("info"===(h=n.type.toLowerCase())?s.addClass("modal-info"):"help"===h?s.addClass("modal-help"):"error"===h?s.addClass("modal-error"):"warning"===h&&s.addClass("modal-warning")),""!==n.contentText&&$("<p />").text(t.contentText).appendTo(u),c.append(f),c.append(m),d.append(c),d.append(u),d.append(p),Array.isArray(n.buttons)||(n.buttons=[n.buttons]),0<n.buttons.length)for(o=0;o<t.buttons.length;o++)r=t.buttons[o],i=$("<button />").addClass("btn"),a="",r.primary?i.addClass("btn-primary"):i.addClass("btn-default"),"string"==typeof r.id&&i.attr("id",r.id),"function"==typeof r.click&&i.on("click",r.click),"string"==typeof r.text&&(a=r.text),r.dismiss&&i.attr("data-dismiss","modal"),r.dismiss&&!a&&(a=e().close),i.text(a).appendTo(p);return l.append(d),s.append(l),"function"==typeof n.open&&s.on("show.bs.modal",n.open),"function"==typeof n.close&&s.on("hide.bs.modal",n.close),s}function adjustModalBackdrop(t){var e,n=$("body"),o=n.children(".modal-backdrop").not(".modal-backdrop-stack, .sidepanel-backdrop, .custom-backdrop"),i=n.children(".modal.in").not(t).length,a=n.children(".modal-backdrop-stack").length;for(t.css("z-index",10*(i+1)+9995).addClass("modal-dialog-stack"),e=0;e<o.length;e++)o.eq(e).css("z-index",10*(e+a+1)+9990).addClass("modal-backdrop-stack")}!function(i){jQuery.fn.swapWith=function(n){return this.each(function(){var t=i(n).clone(!0),e=i(this).clone(!0);i(n).replaceWith(e),i(this).replaceWith(t)})},jQuery.fn.hasHorizontalScrollBar=function(){return this.get(0).scrollWidth>this.width()||void 0!==this.get(0).style&&("scroll"===this.css("overflow")||"scroll"===this.css("overflowX"))},jQuery.fn.hasVerticalScrollBar=function(){return this.get(0).scrollHeight>this.innerHeight()||void 0!==this.get(0).style&&("scroll"===this.css("overflow")||"scroll"===this.css("overflowY"))},jQuery.fn.widthWithScrollbar=function(){var t=this.outerWidth(!0);return this.hasVerticalScrollBar()&&(t+=getScrollbarWidth()),t},jQuery.fn.isAlreadyBound=function(t,e){var n=this.data("events");return void 0!==n&&0!==n.length&&(n=n[t],-1!==i.inArray(e,n))},jQuery.fn.thisText=function(){return this.clone().children().remove().end().text()},jQuery.fn.flash=function(t){var e,n,o="";return void 0===t&&(t=300),e=this,n=parseInt(t/2,10),void 0!==(e=this.is("tr")&&0<versionOfIE()?this.children("td:visible"):e)[0].style.display&&""!==e[0].style.display&&(o=e[0].style.display),e.fadeOut(n,function(){i(this).fadeIn(n,function(){i(this).css("display",o)})}),this},jQuery.fn.setDisabled=function(t){return void 0===t&&(t=!0),(this.is("button")||this.is("input[type=submit]")||this.is("input[type=button]"))&&(t?this.addClass("disabled-button"):this.removeClass("disabled-button")),this.attr("disabled",t),this},jQuery.fn.hasCalendarEvents=function(){return this.hasClass("schedule-events")||this.hasClass("exams")||this.hasClass("events")},jQuery.fn.hasAnyClass=function(t){for(var e="string"==typeof t?t.split(" "):t,n=0;n<e.length;n++)if(this.hasClass(e[n]))return!0;return!1},jQuery.fn.cke_resize=function(){return this.each(function(){var t=i(this),e=10*t.attr("rows");t.next("div.cke").find(".cke_contents").css("height",e)})}}(jQuery);