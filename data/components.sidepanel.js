function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var SidePanel=function(e,n){var l,a,t,o=!1;function i(e,n,t){function a(){l.panel.children().not(".sidepanel-title, .sidepanel-description, .sidepanel-button-area, .sidepanel-content").remove(),l.content.empty(),l.content.append(o),l.panel.find("select").each(function(){var e=$(this);(e.parent().hasClass("select-wrapper")?refreshSelect:wrapSelect)(e)})}var o;if(l.content||(l.content=$("<div />").addClass("sidepanel-content"),l.panel.append(l.content)),void 0===n&&(n=!1),"string"==typeof e)o=$(e);else{if(!(e instanceof jQuery))throw"Content must be a string or jQuery object";o=e}n?l.content.fadeOut(150,function(){a(),l.content.fadeIn(150,function(){"function"==typeof t&&t()})}):(a(),"function"==typeof t&&t())}function s(e){var n=$(window);(e=void 0===e?!1:e)?l.panel.css("height",n.outerHeight(!0)).animate({top:n.scrollTop()},200):l.panel.css({top:n.scrollTop(),height:n.outerHeight(!0)})}function r(e){"function"==typeof e&&e(H)}function d(){return!l.panel.hasClass("vertical")}function c(){l.closeButton.focus()}function p(e){var n=$(".container:eq(0)");(n=0===n.length?$(".container-fluid:eq(0)"):n).length&&(e?n.addClass("disable-scrolling"):n.removeClass("disable-scrolling"))}function u(){var e,n,t;v()||(A.modal?(l.shroud=$("<div />").hide().addClass("modal-backdrop sidepanel-backdrop in").on("click.sp-close",function(){f()}),void 0!==a&&l.shroud.css("z-index",a),$("body").append(l.shroud)):(o&&s(),11===versionOfIE()&&$(document.body).addClass("ie-scrollbar-fix")),r(A.onBeforeShow),A.animate?((t={})[n=d()?(e=l.panel.outerWidth(),"right"):(e=l.panel.outerHeight(),"top")]=0,null===A.parentSidepanel&&A.modal&&$("body").css("overflow","hidden"),l.panel.css(n,-9999).show(),l.panel.attr("aria-hidden",!1),l.panel.css(n,-e),A.modal&&l.shroud.fadeIn(A.fadeInterval),l.panel.animate(t,A.easingInterval,A.easingType,function(){isiOS&&p(!0),r(A.onAfterShow),c()})):(null===A.parentSidepanel&&A.modal&&$("body").css("overflow","hidden"),l.panel.attr("aria-hidden",!1),l.panel.show(),A.modal&&l.shroud.show(),isiOS&&p(!1),r(A.onAfterShow),c()))}function f(){var e,n,t,a,o;$(document.body).removeClass("ie-scrollbar-fix"),v()&&(n=function(){r(A.onBeforeHide),A.animate?(e=d()?{right:-l.panel.outerWidth()}:{top:-l.panel.outerHeight()},l.panel.animate(e,A.easingInterval,A.easingType,function(){r(A.onAfterHide),A.modal||(l.panel.hide(),null===A.parentSidepanel&&$("body").css("overflow",""))}),A.modal&&l.shroud.fadeOut(A.fadeInterval,function(){l.shroud.remove(),l.shroud=null,l.panel.attr("aria-hidden",!0),l.panel.hide(),null===A.parentSidepanel&&$("body").css("overflow","")})):(A.modal&&(l.shroud.remove(),l.shroud=null),l.panel.attr("aria-hidden",!0),l.panel.hide(),null===A.parentSidepanel&&$("body").css("overflow",""),r(A.onAfterHide))},"function"==typeof A.unsavedChangesCheck&&(o=A.unsavedChangesCheck())?(o="string"==typeof o?o:j.wannacontinue,(a=[]).push({text:j.continue,primary:!0,click:function(){t.modal("hide"),n()}}),a.push({text:j.cancel,click:function(){t.modal("hide")}}),(t=createModalBase({buttons:a,contentText:o,type:"warning",size:"small",title:j.unsaved})).modal({show:!0,backdrop:"static"}),adjustModalBackdrop(t)):n())}function h(e){l.title=null,e&&("string"==typeof e?l.title=$("<h1 />").text(e):e instanceof jQuery&&(l.title=e),l.title)&&((e=l.title.attr("id"))||(e="sidepanel-title-"+$(".sidepanel").length,l.title.attr("id",e)),l.title.addClass("sidepanel-title"),l.panel.attr({"aria-labelledby":e}),(e=l.btnArea.next()).is("h1")&&e.remove(),l.btnArea.after(l.title))}function m(e){var n;l.description=null,e&&("string"==typeof e?l.description=$("<p />").text(e):e instanceof jQuery&&(l.description=e),l.description&&((e=l.description.attr("id"))||(e="sidepanel-desc-"+$(".sidepanel").length,l.description.attr("id",e)),l.description.addClass("sidepanel-description"),l.panel.attr({"aria-describedby":e})),((e=l.btnArea.next()).is("h1")?((n=e.next()).is("p")&&n.remove(),e):l.btnArea).after(l.description))}function v(){return l.panel.is(":visible")}var g,y,b,C,S,w,x=(n=void 0===n?{}:n).cols,k=n.direction,A=$.extend(!0,{},{animate:!0,cols:{lg:5,md:6,sm:9,xs:11},unsavedChangesCheck:null,description:null,direction:"horizontal",easingInterval:300,easingType:"swing",fadeInterval:400,modal:!0,onAfterHide:null,onAfterShow:null,onBeforeHide:null,onBeforeShow:null,onCreate:null,opener:null,parentSidepanel:null,title:null},n),j=function(){var e={};switch(document.documentElement?document.documentElement.lang:""){case"en":e={continue:"Continue",cancel:"Cancel",close:"Close",unsaved:"All changes have not been saved",wannacontinue:"You still have unsaved changes. Do you want to continue?"};break;case"sv":e={continue:"Fortsätt",cancel:"Ångra",close:"Stäng",unsaved:"Alla ändringar är inte sparade",wannacontinue:"Det finns ändringar som inte är sparade. Vill du fortsätta?"};break;default:e={continue:"Jatka",cancel:"Peruuta",close:"Sulje",unsaved:"Tallentamattomia muutoksia",wannacontinue:"Sinulla on tallentamattomia muutoksia. Haluatko jatkaa?"}}return e}(),H={toggle:function(){(v()?f:u)()},show:function(){u()},hide:function(){f()},isVisible:v,isModal:function(){return A.modal},isHorizontal:d,getElement:function(){return l.panel},getCols:function(){return A.cols},setTitle:function(e){h(e)},setContent:function(e,n,t){i(e,n,t)},setDescription:function(e){m(e)}},n=void 0!==A.noDialogRole&&A.noDialogRole?"":"dialog";if((l={}).panel=e,l.panel.addClass("sidepanel").removeClass("hidden").attr({role:n}).hide(),A.modal||(l.panel.addClass("no-modal"),isiOS&&(o=!0,l.panel.addClass("ios"))),l.title=null,l.description=null,l.shroud=null,l.content=null,l.btnArea=l.panel.find(".sidepanel-button-area"),0===l.btnArea.length?(l.btnArea=$("<div />").addClass("sidepanel-button-area"),l.closeButton=$("<a />").addClass("sidepanel-close vismaicon vismaicon-expand-circle").attr("aria-label",j.close).on("click",function(e){e.preventDefault(),f()}),l.btnArea.append(l.closeButton),l.panel.prepend(l.btnArea)):l.closeButton=l.btnArea.find(".sidepanel-close"),h(A.title),m(A.description),$("body").append(l.panel),null!==A.parentSidepanel&&(A.parentSidepanel instanceof jQuery&&0<A.parentSidepanel.length&&A.parentSidepanel.hasClass("sidepanel")&&(A.parentSidepanel=A.parentSidepanel.get(0).sidepanel),"object"===_typeof(A.parentSidepanel)&&"function"==typeof A.parentSidepanel.isVisible?(n=parseInt(A.parentSidepanel.getElement().css("z-index"),10),l.panel.css("z-index",n+2),a=n+1):A.parentSidepanel=null,A.parentSidepanel))if("horizontal"===(n=void 0!==k?k.toLowerCase():A.parentSidepanel.isHorizontal()?"horizontal":"vertical")){for(w in b=A.parentSidepanel.getCols(),S={},b)b.hasOwnProperty(w)&&(void 0!==x&&void 0!==x[w]?S[w]=x[w]:("string"==typeof(C=b[w])&&-1<C.indexOf("-")?S[w]=C.split("-")[0]:"string"!=typeof C&&"number"!=typeof C||(S[w]=C-.5),S[w]=S[w]+"",-1<S[w].indexOf(".")&&(S[w]=S[w].split(".").join("-"))));A.cols=S}else e=A.parentSidepanel.getElement(),l.panel.css({left:parseInt(e.css("left"),10)+20,right:parseInt(e.css("right"),10)+20}),A.direction=n;if("vertical"===A.direction.toLowerCase())l.panel.addClass("vertical"),l.panel.css({maxHeight:"90%"});else{for(g in A.cols)A.cols.hasOwnProperty(g)&&-1<(y=A.cols[g]+"").indexOf(".")&&(A.cols[g]=y.split(".").join("-"));l.panel.addClass("col-lg-"+A.cols.lg).addClass("col-md-"+A.cols.md).addClass("col-sm-"+A.cols.sm).addClass("col-xs-"+A.cols.xs)}return A.opener instanceof jQuery&&0<A.opener.length&&A.opener.on("click.sp-open",function(e){e.preventDefault(),u()}),l.panel.get(0).sidepanel=H,r(A.onCreate),o&&(t=null,$(window).on("scroll",function(){t&&clearTimeout(t),t=setTimeout(s.on(void 0,!0),150)})),H};