var NavbarLinksOrderings={},FrontpageOrdering={order:null,newType:!0,lastState:null,scrollbarWidth:0,reOrder:function(){var e,t,r,i,n=this.getDataset(),a=$("#loggedin-frontpage"),o=a.find(".resp-column.left"),s=a.find(".resp-column.right"),l=[[],[]];if(null!==n){for(this.initPanels(),e=this.blockHasCustomOrder("critical"),t=this.blockHasCustomOrder("calendar"),e||(r=a.find("div.panel[data-path=Critical]"),l[0].push(r)),i=0;i<n.length;i++)0<(r=0!==(r=a.find('div.panel[data-path="'+n[i].path+'"]')).length||t||"ShowCompactTimetable"!==n[i].path?r:a.find("DIV.panel[data-path=Calendar]")).length&&l[n[i].col].push(r);for(i=0;i<l[0].length;i++)l[0][i].removeClass("remaining").appendTo(o);for(i=0;i<l[1].length;i++)l[1][i].removeClass("remaining").appendTo(s);a.find("div.panel").not(".remaining").removeClass("hidden")}},initPanels:function(){$("#loggedin-frontpage").find("div.panel").addClass("hidden remaining")},mobileState:function(){var e=$("body"),t=e.innerWidth();return(t+=e.hasVerticalScrollBar()?getScrollbarWidth():0)<992},getState:function(){return this.mobileState()?"mobile":"desktop"},getDataset:function(){return null===this.order?null:"mobile"===this.getState()?this.order.FrontpageMobileOrder:this.order.FrontpageDesktopOrder},blockHasCustomOrder:function(e){var t,r=this.getDataset();for(e=e.toLowerCase(),t=0;t<r.length;t++)if(r[t].path.toLowerCase()===e)return!0;return!1},convertOldData:function(){var e,t=this.order,r=[];for(e in t)t.hasOwnProperty(e)&&"undefined"!==e&&void 0!==t[e]&&r.push({path:e,col:"right"===t[e].col?1:0});this.order={},this.order.FrontpageDesktopOrder=r,this.order.FrontpageMobileOrder=this.createFakeMobileOrder(r)},createFakeMobileOrder:function(e){for(var t=[],r=0;r<e.length;r++)1===e[r].col&&t.push(e[r]);for(r=0;r<e.length;r++)0===e[r].col&&t.push(e[r]);return t},placeRemainingBlocks:function(){var e=$("#loggedin-frontpage"),t=e.find(".remaining"),r=e.find(".right"),i=e.find(".left"),n=-1;this.mobileState()&&this.order?t.each(function(){$(this).removeClass("remaining hidden").appendTo(i)}):t.each(function(){n=0!==n?($(this).removeClass("remaining hidden").appendTo(i),0):($(this).removeClass("remaining hidden").appendTo(r),1)})},handleResize:function(){this.order&&this.getState()!==this.lastState&&(this.lastState=this.getState(),this.reOrder(),this.placeRemainingBlocks())},init:function(){var e=$("#custom-frontpage-order");0<e.length&&e.val()?(this.order=JSON.parse($("#custom-frontpage-order").val()),this.newType=!(!this.order||!this.order.FrontpageDesktopOrder),this.lastState=this.getState(),this.scrollbarWidth=getScrollbarWidth(),this.newType||this.convertOldData(),this.order&&this.order.FrontpageMobileOrder&&0===this.order.FrontpageMobileOrder.length&&(this.order.FrontpageMobileOrder=this.createFakeMobileOrder(this.order.FrontpageDesktopOrder)),$(window).on("resize",$.proxy(this.handleResize,this)),this.reOrder()):(this.order=null,this.initPanels()),this.placeRemainingBlocks()}};$(window).on("load",function(){var e=$("#custom-frontpage-order"),t=$("#role-selection");(0<e.length||0<t.length)&&FrontpageOrdering.init()});